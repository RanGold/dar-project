# Lir code

# String Literals
strNullRef: "Runtime Error: Null pointer dereference!"
strArrayAccess: "Runtime Error: Array index out of bounds!"
strSize: "Runtime Error: Array allocation with negative array size!"
strZero: "Runtime Error: Division by zero!"

# Dispatch Tables
_DV_A: []
# field offsets:

# RunTime Checks
__checkNullRef:
Move a,R5
Compare 0,R5
JumpFalse _notNull
Library __println(strNullRef),Rdummy
Jump _errorExit
_notNull:
Return 0

__checkZero:
Move b,R5
Compare 0,R5
JumpFalse _notZero
Library __println(strZero),Rdummy
Jump _errorExit
_notZero:
Return 0

__checkSize:
Move n,R5
Compare 0,R5
JumpGE _okSize
Library __println(strSize),Rdummy
Jump _errorExit
_okSize:
Return 0

__checkArrayAccess:
ArrayLength a,R5
Move i,R6
Compare R5,R6
JumpGE _indexOutOfBound
Compare 0,R6
JumpL _indexOutOfBound
Return 0
_indexOutOfBound:
Library __println(strArrayAccess),Rdummy
Jump _errorExit

# Method Blocks


# main in A
_ic_main:
# line: 3
Move 3,R1
StaticCall __checkSize(n=R1),Rdummy
Move R1,R2
Mul 4,R2
Library __allocateArray(R2),R1
Move R1,v18a
# line: 4
Move v18a,R3
StaticCall __checkNullRef(a=R3),Rdummy
ArrayLength R3,R3
Library __printi(R3),R4

_errorExit: